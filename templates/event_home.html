{% extends "event_base.html" %}
{% from "_media.html" import media_url %}

{% block event_content %}
<div class="section-card" style="padding:0; overflow:hidden;">
  <div style="background:#0b0b0b;">
    {% if sections.get('home') and sections.get('home').image %}
      <!-- NO-CROP hero: shows entire image -->
      <img
        src="{{ media_url(sections.get('home').image) }}"
        alt="Event hero image"
        style="
          width:100%;
          height:auto;
          max-height:520px;
          object-fit:contain;
          object-position:center;
          display:block;
          background:#0b0b0b;
        "
      >
    {% else %}
      <div style="height:260px; display:flex; align-items:center; justify-content:center; color:var(--muted); font-weight:900;">
        Event Photo
      </div>
    {% endif %}
  </div>

  <div style="padding:18px;">
    <h1 style="margin:0 0 8px; color:var(--accent);">{{ event.name }}</h1>
    <div class="muted" style="font-weight:800;">
      {{ event.date_iso }}{% if event.location %} â€¢ {{ event.location }}{% endif %}
    </div>

    {% if sections.get('home') and (sections.get('home').content or sections.get('home').draft_content) %}
      <div style="margin-top:14px;">
        <div class="ql-editor" style="padding:0;">
          {{ (sections.get('home').content or '')|safe }}
        </div>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
