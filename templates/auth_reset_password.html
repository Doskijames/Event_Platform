{% extends "base.html" %}
{% block content %}
<div class="container">
  <div class="panel">
    <h1 class="accent">Reset Password</h1>
    <p class="muted" style="font-weight:900; margin-top:6px;">
      Enter your email to receive an OTP, then set a new password.
    </p>

    <form method="POST" class="form" style="margin-top:14px;">
      <label class="label">Email</label>
      <input class="input" type="email" name="email" required value="{{ email or '' }}">

      <label class="label">OTP</label>
      <input class="input" type="text" name="otp" inputmode="numeric" autocomplete="one-time-code" required>

      <label class="label">New Password</label>
      <input class="input" type="password" name="password1" required>

      <label class="label">Confirm New Password</label>
      <input class="input" type="password" name="password2" required>

      <div class="actions-row">
        <button class="btn" type="submit">Update Password</button>
        <a class="btn btn-outline" href="{{ url_for('login') }}">Back to Login</a>
      </div>
    </form>

    <form method="POST" action="{{ url_for('resend_otp') }}" style="margin-top:12px;">
      <input type="hidden" name="email" value="{{ email or '' }}">
      <button class="btn btn-outline" type="submit">Resend OTP</button>
    </form>
  </div>
</div>
{% endblock %}
